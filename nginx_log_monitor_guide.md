## Nginx 액세스 로그 실시간 모니터링 가이드

이 가이드는 Ubuntu 서버에서 Nginx가 프론트엔드 (http://192.168.59.138/api/...)로 들어오는 요청을 Windows Server (192.168.59.1:8080)의 백엔드로 제대로 전달하고 있는지 Nginx 액세스 로그를 실시간으로 모니터링하는 방법을 설명합니다.

### 1. Nginx 액세스 로그 파일 위치

Ubuntu 시스템에서 Nginx의 기본 액세스 로그 파일은 주로 다음 경로에 위치합니다:

```
/var/log/nginx/access.log
```

Nginx 설정 (`nginx-hybrid.conf` 또는 다른 설정 파일)에 따라 로그 파일 경로가 변경될 수 있습니다. 정확한 경로는 Nginx 설정 파일 (`/etc/nginx/sites-available/your_domain.conf` 또는 `nginx.conf`) 내의 `access_log` 지시문을 확인하여 알 수 있습니다.

### 2. `tail -f` 명령어를 이용한 실시간 모니터링

`tail -f` 명령어는 파일의 끝을 실시간으로 추적하여 새로운 내용이 추가될 때마다 화면에 출력해줍니다. 이를 통해 Nginx에 들어오는 요청을 즉시 확인할 수 있습니다.

1.  **Ubuntu 서버 터미널에서:**
    다음 명령어를 실행하여 Nginx 액세스 로그를 실시간으로 모니터링합니다.
    ```bash
    sudo tail -f /var/log/nginx/access.log
    ```

2.  **프론트엔드에서 요청 보내기:**
    이제 웹 브라우저에서 Ubuntu 서버의 프론트엔드 URL (예: `http://192.168.59.138/`)에 접속하거나, 자바스크립트 `fetch` API 등을 사용하여 `/api/` 경로로 요청을 보냅니다 (예: `http://192.168.59.138/api/health`).

3.  **로그 확인 예시:**
    터미널에서 `tail -f` 명령어를 실행 중이면, 요청이 들어올 때마다 다음과 유사한 로그 라인이 새로 출력되는 것을 확인할 수 있습니다.

    ```
    192.168.59.138 - - [23/Jan/2026:06:00:00 +0000] "GET /api/health HTTP/1.1" 200 12 "-" "Mozilla/5.0 ..."
    ```

    *   `192.168.59.138`: 요청을 보낸 클라이언트의 IP 주소 (여기서는 Ubuntu 프론트엔드 서버 자체 또는 사용자 브라우저).
    *   `GET /api/health HTTP/1.1`: 요청 메서드, 경로 및 HTTP 버전.
    *   `200`: Nginx가 클라이언트에 응답한 HTTP 상태 코드 (이것은 백엔드에서 받은 응답이 아님, Nginx 자체 응답).
    *   `12`: 응답 크기.

    **중요:** Nginx가 백엔드로 요청을 성공적으로 프록시했는지 확인하려면, Nginx가 클라이언트에 `200` 상태 코드를 반환하는지 보는 것 외에도, 백엔드 서버 (Windows Server)의 로그를 확인하여 해당 요청이 백엔드에 도달했는지 확인하는 것이 좋습니다.

    또한, Nginx 설정 파일 (`nginx-hybrid.conf`)의 `location /api/` 블록에 `proxy_set_header X-Real-IP $remote_addr;`와 같은 헤더 설정이 되어 있다면, 백엔드 서버 로그에서 실제 클라이언트 IP를 확인할 수 있습니다.
